<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>For My Queen</title>
<style>
body { margin:0; overflow:hidden; background:black; font-family:sans-serif; }
canvas { display:block; }

#enterScreen{
  position:absolute;
  inset:0;
  display:flex;
  justify-content:center;
  align-items:center;
  background:black;
  z-index:10;
}

#enterBtn{
  padding:16px 40px;
  font-size:18px;
  border:none;
  border-radius:40px;
  background:#ff4f81;
  color:white;
  cursor:pointer;
}

#question{
  position:absolute;
  top:15%;
  width:100%;
  text-align:center;
  font-size:42px;
  color:#ffc5db;
  display:none;
  z-index:4;
}

#ui{
  position:absolute;
  bottom:60px;
  width:100%;
  text-align:center;
  display:none;
  z-index:5;
}

button.choice{
  padding:14px 30px;
  margin:0 20px;
  font-size:16px;
  border:none;
  border-radius:30px;
  cursor:pointer;
}

#yes{ background:#ff4f81; color:white; }
#no{ background:#333; color:white; }

#final{
  position:absolute;
  top:50%;
  transform:translateY(-50%);
  width:100%;
  text-align:center;
  font-size:48px;
  color:#ffd27f;
  display:none;
  z-index:6;
}
</style>
</head>
<body>

<div id="enterScreen">
  <button id="enterBtn">Enter the Moment</button>
</div>

<div id="question">Will You Be My Girlfriend?</div>

<div id="ui">
  <button id="yes" class="choice">Yes</button>
  <button id="no" class="choice">No</button>
</div>

<div id="final">My Queen Sree ❤️</div>

<script src="./three.min.js"></script>

<script>
window.addEventListener("DOMContentLoaded", () => {

/* ===== Renderer ===== */
const renderer = new THREE.WebGLRenderer({ antialias:true })
renderer.setSize(window.innerWidth, window.innerHeight)
renderer.setPixelRatio(Math.min(window.devicePixelRatio,2))
renderer.setClearColor(0x000000)
document.body.appendChild(renderer.domElement)

/* ===== Scene ===== */
const scene = new THREE.Scene()

const camera = new THREE.PerspectiveCamera(
45,
window.innerWidth/window.innerHeight,
0.1,
2000
)
camera.position.set(0,0,140)

/* ===== Lighting ===== */
scene.add(new THREE.AmbientLight(0xffffff,0.4))

const pinkLight = new THREE.PointLight(0xff4f81,2,500)
pinkLight.position.set(0,40,60)
scene.add(pinkLight)

/* ===== Starfield ===== */
const starGeo = new THREE.BufferGeometry()
const starCount = 2000
const starPositions = new Float32Array(starCount*3)

for(let i=0;i<starCount*3;i++){
  starPositions[i] = (Math.random()-0.5)*600
}

starGeo.setAttribute("position", new THREE.BufferAttribute(starPositions,3))

const starMat = new THREE.PointsMaterial({
  color:0xffffff,
  size:1,
  transparent:true,
  opacity:0.7
})

const stars = new THREE.Points(starGeo,starMat)
scene.add(stars)

/* ===== Heart ===== */
const heartShape = new THREE.Shape()
heartShape.moveTo(0,0)
heartShape.bezierCurveTo(0,8,-12,18,-22,6)
heartShape.bezierCurveTo(-28,-5,-8,-18,0,-28)
heartShape.bezierCurveTo(8,-18,28,-5,22,6)
heartShape.bezierCurveTo(12,18,0,8,0,0)

const heartGeo = new THREE.ExtrudeGeometry(heartShape,{
depth:8,
bevelEnabled:true,
bevelSegments:12,
bevelSize:2,
bevelThickness:2,
curveSegments:40
})
heartGeo.center()

const heart = new THREE.Mesh(
heartGeo,
new THREE.MeshStandardMaterial({
color:0xff2e88,
metalness:0.3,
roughness:0.4
})
)
scene.add(heart)

/* ===== Animation ===== */
const clock = new THREE.Clock()
let introProgress = 0

function animate(){
requestAnimationFrame(animate)

const delta = clock.getDelta()
const elapsed = clock.getElapsedTime()

introProgress = Math.min(1, introProgress + delta * 0.6)
camera.position.z = 140 - introProgress * 70

heart.rotation.y += delta * 0.8
heart.rotation.x = Math.sin(elapsed*0.6)*0.05
heart.scale.setScalar(1 + Math.sin(elapsed*1.5)*0.05)

stars.rotation.y += delta * 0.03

renderer.render(scene,camera)
}
animate()

/* ===== UI ===== */
document.getElementById("enterBtn").addEventListener("click",()=>{
  document.getElementById("enterScreen").style.display="none"
  document.getElementById("question").style.display="block"
  document.getElementById("ui").style.display="block"
})

document.getElementById("yes").onclick = ()=>{
document.getElementById("ui").style.display="none"
document.getElementById("question").style.display="none"
document.getElementById("final").style.display="block"
}

document.getElementById("no").onmouseover = ()=>{
const btn = document.getElementById("no")
const padding = 120
btn.style.position="absolute"
btn.style.left = Math.random()*(window.innerWidth-padding)+"px"
btn.style.top = Math.random()*(window.innerHeight-padding)+"px"
}

window.addEventListener("resize",()=>{
camera.aspect = window.innerWidth/window.innerHeight
camera.updateProjectionMatrix()
renderer.setSize(window.innerWidth,window.innerHeight)
})

})
</script>
</body>
</html>
